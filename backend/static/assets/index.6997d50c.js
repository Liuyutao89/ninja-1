var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,n=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,r=(e,a)=>{for(var t in a||(a={}))o.call(a,t)&&n(e,t,a[t]);if(s)for(var t of s(a))c.call(a,t)&&n(e,t,a[t]);return e},l=(e,s)=>a(e,t(s));import{p as i,a as d,o as p,c as m,r as u,b as k,w as f,F as b,k as v,d as y,e as g,t as w,f as h,g as C,h as x,u as j,i as P,_,j as S,l as A,m as K,n as I,q as W,s as L,v as Q,x as O}from"./vendor.efdc0390.js";i("data-v-4b23e37a"),d();const R={},D={class:"NinjaLogo",src:"/assets/logo.03d6d6da.png",alt:"logo"};R.render=function(e,a){return p(),m("img",D)};const U={components:{Logo:R}},V=f("data-v-7115dabd");i("data-v-7115dabd");const q={class:"header"},X={class:"header-wrapper"},z={class:"flex items-center"},N=k("p",{class:"pl-3 select-none"},"工具人",-1);d();const J=V(((e,a,t,s,o,c)=>{const n=u("Logo");return p(),m("div",q,[k("div",X,[k("div",z,[k(n,{class:"h-10 w-10"}),N])])])}));U.render=J,U.__scopeId="data-v-7115dabd";const E={class:"main"},$={setup:e=>(e,a)=>{const t=u("router-view");return p(),m(b,null,[k(U),k("div",E,[k(t)])],64)}};const T=v.create({prefixUrl:"/api",retry:{limit:0}});const Z={setup(){const e=j();P();let a=y({nickName:void 0,timestamp:void 0});const t=async()=>{try{const e=localStorage.getItem("eid");if(!e)return void s();const t=await function(e){const a=new URLSearchParams;return a.set("eid",e),T.get("userinfo",{searchParams:a}).json()}(e);if(!t)return _.error("获取用户信息失败，请重重新登录"),void s();a.nickName=t.data.nickName,a.timestamp=new Date(t.data.timestamp).toLocaleString()}catch(e){console.error(e)}};g(t);const s=()=>{localStorage.removeItem("eid"),e.push("/login")};return l(r({},w(a)),{activity:[{name:"玩一玩（可找到大多数活动）",address:"京东 APP 首页-频道-边玩边赚",href:"https://funearth.m.jd.com/babelDiy/Zeus/3BB1rymVZUo4XmicATEUSDUgHZND/index.html"},{name:"宠汪汪",address:"京东APP-首页/玩一玩/我的-宠汪汪"},{name:"东东萌宠",address:"京东APP-首页/玩一玩/我的-东东萌宠"},{name:"东东农场",address:"京东APP-首页/玩一玩/我的-东东农场"},{name:"东东工厂",address:"京东APP-首页/玩一玩/我的-东东工厂"},{name:"东东超市",address:"京东APP-首页/玩一玩/我的-东东超市"},{name:"领现金",address:"京东APP-首页/玩一玩/我的-领现金"},{name:"东东健康社区",address:"京东APP-首页/玩一玩/我的-东东健康社区"},{name:"京喜农场",address:"京喜APP-我的-京喜农场"},{name:"京喜牧场",address:"京喜APP-我的-京喜牧场"},{name:"京喜工厂",address:"京喜APP-我的-京喜工厂"},{name:"京喜财富岛",address:"京喜APP-我的-京喜财富岛"},{name:"京东极速版红包",address:"京东极速版APP-我的-红包"}],getInfo:t,logout:s,delAccount:async()=>{try{const e=localStorage.getItem("eid"),a=await function(e){return T.post("delaccount",{json:e}).json()}({eid:e});200!==a.code?_.error(a.message):(_.success(a.message),setTimeout((()=>{s()}),1e3))}catch(e){console.error(e)}},openUrlWithJD:e=>{const a=encodeURIComponent(`{"category":"jump","des":"m","action":"to","url":"${e}"}`);window.location.href=`openapp.jdmobile://virtual?params=${a}`,console.log(window.location.href)}})}},B={class:"content"},G={class:"card"},F=k("div",{class:"card-header"},[k("p",{class:"card-title"},"个人中心")],-1),H={class:"card-body"},M={class:"card-footer"},Y=A("退出登录"),ee=A("删除账号"),ae={class:"card"},te=k("div",{class:"card-header"},[k("p",{class:"card-title"},"常见活动位置"),k("span",{class:"card-subtitle"},"下面是一些常见活动的位置")],-1),se={class:"card-body"},oe={class:"pr-2"};Z.render=function(e,a,t,s,o,c){const n=u("el-button");return p(),m("div",B,[k("div",G,[F,k("div",H,[k("p",null,"昵称："+h(e.nickName),1),k("p",null,"更新时间："+h(e.timestamp),1)]),k("div",M,[k(n,{size:"small",auto:"",onClick:s.logout},{default:C((()=>[Y])),_:1},8,["onClick"]),k(n,{type:"danger",size:"small",auto:"",onClick:s.delAccount},{default:C((()=>[ee])),_:1},8,["onClick"])])]),k("div",ae,[te,k("div",se,[k("ul",null,[(p(!0),m(b,null,x(s.activity,((e,a)=>(p(),m("li",{key:a,class:"leading-normal"},[k("span",null,h(e.name)+"：",1),k("span",oe,h(e.address),1),e.href?(p(),m("a",{key:0,class:"text-blue-400",href:"#",onClick:a=>s.openUrlWithJD(e.href)},"直达链接",8,["onClick"])):S("",!0)])))),128))])])])])};const ce={setup(){const e=j();P();let a=y({marginCount:0,allowAdd:!0,cookie:"",QRCode:void 0,qrCodeVisibility:!1,token:void 0,okl_token:void 0,cookies:void 0,timer:void 0,waitLogin:!1,marginWSCKCount:0,allowWSCKAdd:!0,jdwsck:void 0,showQR:!1,showWSCK:!1,showCK:!1});const t=async()=>{try{const e=(await T.get("info").json()).data;a.marginCount=e.marginCount,a.allowAdd=e.allowAdd,a.marginWSCKCount=e.marginWSCKCount,a.allowWSCKAdd=e.allowWSCKAdd,a.showQR=e.showQR,a.showWSCK=e.showWSCK,a.showCK=e.showCK}catch(e){console.error(e)}},s=async()=>{if(this.showQR)try{const e=await T.get("qrcode").json();a.token=e.data.token,a.okl_token=e.data.okl_token,a.cookies=e.data.cookies,a.QRCode=e.data.QRCode,a.QRCode&&(a.waitLogin=!0,clearInterval(a.timer),a.timer=setInterval(o,3e3))}catch(e){console.error(e),_.error("生成二维码失败！请重试或放弃")}else _.warning("扫码已禁用请手动抓包")},o=async()=>{try{const t=await function(e){return T.post("check",{json:e}).json()}({token:a.token,okl_token:a.okl_token,cookies:a.cookies});switch(null==t?void 0:t.data.errcode){case 0:localStorage.setItem("eid",t.data.eid),_.success(t.message),clearInterval(a.timer),e.push("/");break;case 176:break;default:_.error(t.message),a.waitLogin=!1,clearInterval(a.timer)}}catch(t){clearInterval(a.timer),a.waitLogin=!1}};return g((()=>{t(),s()})),l(r({},w(a)),{getInfo:t,getQrcode:s,showQrcode:async()=>{a.qrCodeVisibility=!0},ckeckLogin:o,jumpLogin:async()=>{const e=`openapp.jdmobile://virtual/ad?params={"category":"jump","des":"ThirdPartyLogin","action":"to","onekeylogin":"return","url":"https://plogin.m.jd.com/cgi-bin/m/tmauth?appid=300&client_type=m&token=${a.token}","authlogin_returnurl":"weixin://","browserlogin_fromurl":"${window.location.host}"}`;window.location.href=e},CKLogin:async()=>{try{const e=a.cookie.match(/pt_key=(.*?);/)&&a.cookie.match(/pt_key=(.*?);/)[1],t=a.cookie.match(/pt_pin=(.*?);/)&&a.cookie.match(/pt_pin=(.*?);/)[1];if(e&&t){const a=await function(e){return T.post("cklogin",{json:e}).json()}({pt_key:e,pt_pin:t});200===a.code&&a.data.eid?(localStorage.setItem("eid",a.data.eid),_.success(a.message)):_.error(a.message||"cookie 解析失败，请检查后重试！")}else _.error("cookie 解析失败，请检查后重试！")}catch(e){console.error(e)}},WSCKLogin:async()=>{try{const e=a.jdwsck.match(/wskey=(.*?);/)&&a.jdwsck.match(/wskey=(.*?);/)[1],t=a.jdwsck.match(/pin=(.*?);/)&&a.jdwsck.match(/pin=(.*?);/)[1];if(e&&t){const a=await function(e){return T.post("WSCKLogin",{json:e}).json()}({wskey:e,pin:t});200===a.code&&a.data.eid?(localStorage.setItem("eid",a.data.eid),_.success(a.message)):_.error(a.message||"wskey 解析失败，请检查后重试！")}else _.error("wskey 解析失败，请检查后重试！")}catch(e){console.error(e)}}})}},ne=f("data-v-63f24b8c");i("data-v-63f24b8c");const re={class:"content"},le=k("div",{class:"card"},[k("div",{class:"card-header"},[k("p",{class:"card-title"},"工具人提醒您")]),k("div",{class:"card-body text-base leading-6"},[k("p",null,"为了您的财产安全请关闭免密支付以及打开支付验密（京东-设置-支付设置-支付验密设置）。"),k("p",null,"建议京东账户绑定微信以保证提现能到账。"),k("p",null,"由于京东异地登录限制，扫码获取cookie只有2小时有效期，因此暂时关闭扫码功能，现需手动抓取Cookie。"),k("b",null,"且有效期不长，平均1-3天，因此需要及时更新。")])],-1),ie={key:0,class:"card"},de={class:"card-header"},pe={class:"flex items-center justify-between"},me=k("p",{class:"card-title"},"扫码登录",-1),ue={class:"ml-2 px-2 py-1 bg-gray-200 rounded-full font-normal text-xs"},ke=k("span",{class:"card-subtitle"}," 请点击下方按钮登录，点击按钮后回到本网站查看是否登录成功，京东的升级提示不用管。 ",-1),fe={class:"card-body text-center"},be={key:0,class:"flex flex-col w-48 m-auto mt-4"},ve=A("扫描二维码登录"),ye=A("跳转到京东 App 登录"),ge=k("div",{class:"card-footer"},null,-1),we={key:1,class:"card"},he={class:"card-header"},Ce={class:"flex items-center justify-between"},xe=k("p",{class:"card-title"},"WSCK 录入",-1),je={class:"ml-2 px-2 py-1 bg-gray-200 rounded-full font-normal text-xs"},Pe=K('<div class="card-body text-base leading-6" data-v-63f24b8c><b data-v-63f24b8c>强烈推荐抓wskey</b><p data-v-63f24b8c>wskey长期有效，不需要频繁更新，暂不清楚wskey失效时间，据说至少1年以上。</p><p data-v-63f24b8c>用户须手动提取pin和wskey，格式如：&quot;pt_pin=xxxxxx;wskey=xxxxxxxxxx;&quot;。</p><p class="card-subtitle" data-v-63f24b8c>——IOS用户手机抓包APP <a style="" href="https://apps.apple.com/cn/app/stream/id1312141691" target="_blank" id="downiOSApp" data-v-63f24b8c>点击跳转安装</a></p><p class="card-subtitle" data-v-63f24b8c>wskey非录入后立马上线，系统会在指定时间检查wskey，有效则自动转换出cookie登录</p><p class="card-subtitle" data-v-63f24b8c>cookie失效后，也会在系统设定的指定时间内自动转换出新的cookie，实现一次录入长期有效</p><p class="card-subtitle" data-v-63f24b8c>详细抓包教程稍后更新，尽情期待</p></div><span class="card-subtitle" data-v-63f24b8c> 请在下方输入您的 WSCK </span>',2),_e={class:"card-body text-center"},Se=A("录入"),Ae=k("div",{class:"card-footet"},null,-1),Ke={key:2,class:"card"},Ie={class:"card-header"},We={class:"flex items-center justify-between"},Le=k("p",{class:"card-title"},"CK 登录",-1),Qe={class:"ml-2 px-2 py-1 bg-gray-200 rounded-full font-normal text-xs"},Oe=K('<div class="card-body text-base leading-6" data-v-63f24b8c><p data-v-63f24b8c>PC用户建议使用开源工具<a href="https://github.com/Waikkii/JD_Get_Cookie" target="_blank" id="waikiki" data-v-63f24b8c>JD_Get_Cookie</a>获取cookie并在下方填写。</p><p data-v-63f24b8c>手机用户可以使用Alook浏览器登录<a href="https://m.jd.com/" target="_blank" id="jd" data-v-63f24b8c>JD官网</a>，并在菜单-工具箱-开发者工具-Cookies中获取（Android和iPhone通用）。</p><p data-v-63f24b8c>——安卓用户须手动提取pt_key和pt_pin，格式如：&quot;pt_key=xxxxxxxxxx;pt_pin=xxxxxx;&quot;。</p><p data-v-63f24b8c>——IOS用户可以使用快捷指令<a href="https://www.icloud.com/shortcuts/f0bf8b56bd0949afabfc00ca6fbfb4c2" target="_blank" id="getcookie" data-v-63f24b8c>提取cookie</a>。</p><p data-v-63f24b8c>显示“欢迎回来XXX”/“注册成功XXX”即更新/注册成功，不用理会红色提示框。</p></div><span class="card-subtitle" data-v-63f24b8c> 请在下方输入您的 cookie 登录。 </span>',2),Re={class:"card-body text-center"},De=A("登录"),Ue=k("div",{class:"card-footet"},null,-1);d();const Ve=ne(((e,a,t,s,o,c)=>{const n=u("el-button"),r=u("el-input");return p(),m("div",re,[le,e.showQR?(p(),m("div",ie,[k("div",de,[k("div",pe,[me,k("span",ue,"余量："+h(e.marginCount),1)]),ke]),k("div",fe,[e.qrCodeVisibility?(p(),m("img",{key:1,src:e.QRCode,width:256,class:"m-auto"},null,8,["src"])):(p(),m("div",be,[k(n,{type:"primary",round:"",onClick:s.showQrcode},{default:ne((()=>[ve])),_:1},8,["onClick"]),k(n,{class:"mt-4 ml-0",type:"primary",round:"",onClick:s.jumpLogin},{default:ne((()=>[ye])),_:1},8,["onClick"])]))]),ge])):S("",!0),e.showWSCK?(p(),m("div",we,[k("div",he,[k("div",Ce,[xe,k("span",je,"余量："+h(e.marginWSCKCount),1)]),Pe]),k("div",_e,[k(r,{modelValue:e.jdwsck,"onUpdate:modelValue":a[1]||(a[1]=a=>e.jdwsck=a),size:"small",clearable:"",class:"my-4 w-full"},null,8,["modelValue"]),k(n,{type:"primary",size:"small",round:"",onClick:s.WSCKLogin},{default:ne((()=>[Se])),_:1},8,["onClick"])]),Ae])):S("",!0),e.showCK?(p(),m("div",Ke,[k("div",Ie,[k("div",We,[Le,k("span",Qe,"余量："+h(e.marginCount),1)]),Oe]),k("div",Re,[k(r,{modelValue:e.cookie,"onUpdate:modelValue":a[2]||(a[2]=a=>e.cookie=a),size:"small",clearable:"",class:"my-4 w-full"},null,8,["modelValue"]),k(n,{type:"primary",size:"small",round:"",onClick:s.CKLogin},{default:ne((()=>[De])),_:1},8,["onClick"])]),Ue])):S("",!0)])}));ce.render=Ve,ce.__scopeId="data-v-63f24b8c";const qe=[{path:"/",component:Z},{path:"/login",component:ce}],Xe=I({history:W(),routes:qe}),ze=[Q,O,_],Ne=[_],Je=L($);ze.forEach((e=>{Je.component(e.name,e)})),Ne.forEach((e=>{Je.use(e)})),Je.use(Xe),Je.mount("#app");
